extends ../../main

block content
    .row
        .col-md-12
            .card
                .card-stats
                    a(href="javascript:history.back()")
                        .card-header.btn(data-background-color="blue")
                            i.material-icons(title="Back") keyboard_arrow_left

                if !data
                    .card-content
                        h3.text-right Adding a book to store
                        div.alert.alert-danger(role="alert" id="error") Error: No data
                else
                    .card-content
                        h2.text-right Adding book to store
                        form(method='post')

                            .form-group.label-floating
                                label.control-label Books
                                select.form-control(name="books" id="books" required)

                            .form-group.label-floating
                                label.control-label Discount %
                                input.form-control(type="text", id="discount" name="discount", pattern="[0-9]{0,2}")

                            .form-group.label-floating
                                label.control-label Quantity
                                input.form-control(type="text", id="quantity" name="quantity", pattern="^[1-9][0-9]{0,5}", required)

                            button.btn.btn-primary.btn-block(type="submit" data-background-color="blue") Add



block scripts
    script.
      'use strict';

        const data = !{JSON.stringify(data)};

        const selectBook = document.getElementById('books');
        for (let books of data) {
          selectBook.appendChild(new Option(books.book_info, books.id))
          }
        selectBook.value = '';